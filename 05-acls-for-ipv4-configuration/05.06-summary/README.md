<!-- 5.5.3 -->
## Настройка стандартных списков контроля доступа для IPv4

Все списки управления доступом (ACL) должны быть спланированы, особенно списки, требующие несколько записей управления доступом (ACE). При настройке сложного списка ACL рекомендуется использовать текстовый редактор и выписывать специфику реализуемой политики, добавлять команды конфигурации IOS для выполнения этих задач, включать замечания для документирования ACL, копировать и вставлять команды на лабораторное устройство и всегда тщательно тестировать ACL, чтобы убедиться, что он правильно применяет требуемую политику. Для создания нумерованного стандартного списка управления доступом используйте команду глобальной конфигурации **ip access-list standard** *access-list-name.* Чтобы удалить нумерованный стандартный список ACL, используйте команду глобальной конфигурации **no access-list** *access-list-number*. Чтобы проверить, применяется ли к интерфейсу ACL, используйте команду **show ip interface**. В дополнение к стандартным нумерованным ACL существуют именованные стандартные ACL. Имена ACL-списков состоят из буквенно-цифровых символов, они чувствительны к регистру и должны быть уникальными. Указывать имена ACL-списков заглавными буквами не обязательно, но это делает их более заметными при просмотре выходных данных текущей конфигурации. Чтобы создать именованный стандартный список управления доступом, используйте команду глобальной конфигурации **ip access-list standard** *access-list-name*. Для удаления именованного стандартного ACL IPv4, используйте команду глобальной конфигурации **no ip access-list standard** *access-list-name*. После настройки стандартного списка ACL IPv4, он должен быть связан с интерфейсом или сервисом. Для привязки нумерованного или именованного стандартного ACL IPv4 к интерфейсу используйте команду глобальной конфигурации **ip access-group** {*access-list-number* | *access-list-name* **in** } { **out** |}. Чтобы удалить список ACL из интерфейса, сначала введите команду конфигурации интерфейса **no ip access-group**. Чтобы удалить список ACL с роутера, используйте команду глобальной конфигурации **no access-list**.

## Изменение списков контроля доступа для IPv4

Чтобы изменить ACL, используйте текстовый редактор или порядковые номера. ACL с несколькими ACE следует создавать в текстовом редакторе. Таким образом, можно создать или отредактировать список контроля доступа (ACL), после чего вставить его в интерфейс роутера. ACL ACE также можно удалить или добавить с помощью порядкового номера ACL. Последовательные номера присваиваются автоматически при вводе ACE. Они перечислены в команде **show access-lists**. Команда **show running-config** не отображает порядковые номера. Именованные ACL также могут использовать порядковые номера для удаления и добавления ACE. Команда **show access-lists** показывает статистику для каждой команды, которая была сопоставлена. Для очистки статистики ACL, используйте команду **clear access-list counters**.

## Защита портов VTY с помощью стандартного списка контроля доступа для IPv4

ACL обычно фильтруют входящий или исходящий трафик на интерфейсе. Однако стандартный ACL также может использоваться для защиты удаленного административного доступа к устройству с помощью линий VTY. Для обеспечения удаленного административного доступа к линиям VTY необходимо создание списка управления доступом, чтобы определить, какие административные узлы должны быть разрешены удаленный доступ, и применение ACL к входящему трафику на линиях VTY. Наиболее часто используемым для фильтрации входящего трафика на VTY является ключевое слово **in**. Параметр **out** фильтрует исходящий трафик VTY и редко применяется. К VTY-линиям можно применять как именованные, так и нумерованные списки контроля доступа (ACL). Одинаковые ограничения должны быть установлены на все каналы VTY, поскольку пользователь может попытаться подключиться к любому из них. После настройки ACL-списка для ограничения доступа к линиям VTY важно убедиться в его надлежащем функционировании. Используйте команду **show ip interface**, чтобы проверить, применяется ли к интерфейсу ACL. Чтобы проверить статистику ACL, выполните команду **show access-lists**.

## Настройка расширенных списков контроля доступа для IPv4

Расширенные списки контроля доступа используются чаще, чем стандартные, поскольку они обеспечивают больший объем контроля. Они могут фильтровать по адресу источника, адресу назначения, протоколу (например, IP, TCP, UDP, ICMP) и номеру порта. Это обеспечивает более широкий спектр критериев, на которых можно строить ACL-список. Как и стандартные списки ACL, расширенные списки ACL могут быть созданы как расширенный список ACL с пронумерованным именем и расширенным ACL. Нумерованные расширенные списки ACL создаются с помощью тех же команд глобальной конфигурации, которые используются для стандартных списков ACL. Последовательность шагов настройки расширенных списков контроля доступа такая же, как при настройке стандартных списков контроля доступа. При этом следует учитывать, что синтаксис команды и параметры представляют сложность для поддержки дополнительных функций, предоставляемых расширенными списками контроля доступа. Чтобы создать расширенный список ACL с нумерацией, используйте команду глобальной конфигурации Router(config)# **access-list** *access-list-number* {**deny** | **permit** | **remark** *text*} *protocol source source-wildcard* [*operator* [port]] *destination destination-wildcard* [*operator* [port]] [established] [log] Расширенные списки ACL могут фильтровать множество различных типов интернет-протоколов и портов. Выбор protocol влияет на параметры port. Например, выбор протокола **tcp** обеспечит параметры портов, связанных с TCP. Настройка номера порта требуется, если в списке нет конкретного имени протокола, например SSH (номер порта 22) или HTTPS (номер порта 443). TCP также может выполнять основные службы брандмауэра с сохранением состояния, используя ключевое слово TCP **established**. Оно позволяет внутреннему трафику выйти из внутренней частной сети и позволяет возвращенному ответному трафику войти во внутреннюю частную сеть. После того как список контроля доступа настроен и применен на интерфейсе, выполните проверку конфигурации при помощи команд Cisco IOS **show**. Команда **show ip interface** используется для проверки списка контроля доступа на интерфейсе и направления, к которому был привязан список.

<!-- 5.5.4  Контрольная работа по модулю NAT для IPv4 Тут  квиз 5.5.4 -->
