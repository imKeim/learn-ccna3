## Задачи

Часть 1. Изучение регистра конфигурации

Часть 2. Описание процедуры восстановления пароля для отдельного маршрутизатора Cisco

## Общие сведения/сценарий

Цель этого задания — изучение процедуры восстановления или сброса пароля на определенном маршрутизаторе Cisco. Такой пароль ограничивает доступ к привилегированному режиму EXEC и режиму конфигурации на устройствах Cisco. Пароль можно восстановить, однако надежный пароль хранится в зашифрованном виде и в случае утери должен быть заменен новым паролем.

Чтобы обойти пароль, пользователь должен быть знаком с режимом ROMMON (монитор ПЗУ), а также с настройкой регистра конфигурации для маршрутизаторов Cisco. ROMMON — это базовая программа с интерфейсом командной строки, которая хранится в ПЗУ и может использоваться для устранения неполадок загрузки и восстановления маршрутизатора в случаях, если не удается обнаружить IOS.

В этой работе вы изучите назначение и настройки регистра конфигурации для устройств Cisco. а затем подробно рассмотрите и опишете процедуру восстановления пароля для отдельного маршрутизатора Cisco. Наконец, с помощью Packet Tracer вы будете практиковать процедуру с помощью регистра конфигурации для восстановления пароля на маршрутизаторе Cisco 2911.

**Примечание**: Задание спроектировано таким образом, что откроется с процентом завершения 12%.

## Инструкции

### Часть 1. Изучение регистра конфигурации

Чтобы восстановить или сбросить пароль, вы получите доступ к интерфейсу ROMMON, чтобы дать маршрутизатору команду игнорировать загрузочную конфигурацию при загрузке. При загрузке войдите в привилегированном режиме EXEC, перезапишите текущую конфигурацию сохраненной конфигурацией запуска. Затем вы восстановите или сбросите пароль и восстановите процесс загрузки маршрутизатора, чтобы включить конфигурацию запуска.

Регистр конфигурации маршрутизатора играет ключевую роль в процессе восстановления пароля. В первой части этой работы вы узнаете предназначение регистра конфигурации маршрутизатора и функции некоторых его значений.

**Шаг 1. Опишите предназначение регистра конфигурации.**

Вопросы:

Для чего необходим регистр конфигурации?

**Введите ваш ответ здесь.**

С помощью какой команды можно изменить регистр конфигурации в глобальном режиме конфигурации?

**Введите ваш ответ здесь.**

С помощью какой команды можно изменить регистр конфигурации в ROMMON режиме?

**Введите ваш ответ здесь.**

**Шаг 2. Определите значения регистра конфигурации и их функции.**

Вопросы:

Изучите и опишите поведение маршрутизатора со следующими значениями регистра конфигурации:

**0x2102**

**0x2142**

Чем отличаются эти значения регистра конфигурации?

**Введите ваш ответ здесь.**

### Часть 2. Описание процедуры восстановления пароля для отдельного маршрутизатора Cisco

Во второй части вам необходимо описать точную процедуру восстановления или сброса пароля для отдельного маршрутизатора Cisco серии 2900 и ответить на вопросы, исходя из полученных результатов.

**Шаг 1. Подробно опишите процесс восстановления пароля для отдельного маршрутизатора Cisco.**

Изучите и опишите шаги и команды, необходимые для восстановления или сброса простого или защищенного пароля на вашем маршрутизаторе Cisco. Кратко изложите шаги своими словами.

**Шаг 2. С помощью Packet Tracer выполните восстановление enable password и secret password на маршрутизаторе Cisco 2911.**

Представьте, что вы только что вернулись с недельной конференции. Вы пытаетесь войти в основной маршрутизатор компании, но пока вас не было, кто-то изменил пароль включения. Вам не удается войти в маршрутизатор.

1.  С рабочего стола ноутбука используйте режим терминала для подключения к маршрутизатору. Поскольку пароли вам неизвестны, вы не сможете войти в систему.

2.  В режиме симуляции физического оборудования перейдите к виду маршрутизатора в стойке сзади и выключите маршрутизатор.

3.  Включите маршрутизатор и быстро вернитесь в режим терминала на ноутбуке и введите **Ctrl+c** до завершения отображения меток загрузки хэша (#####). Если вы недостаточно быстро действовали, нажмите кнопку включения питания маршрутизатора еще раз. Вы должны оказаться в режиме ROMMON.

    **Примечание.** На реальном оборудовании вам может потребоваться ввести **Alt-B** вместо **Ctrl-c**

    ```
    rommon 1 >
    ```

    Примечание. Для выполнения этой процедуры на реальном оборудовании вы должны физически находиться рядом с маршрутизатором. Важно, чтобы корпорация обеспечивала сильную физическую безопасность для всех сетевых устройств.

4.  Измените значение регистра конфигурации и перезагрузитесь.

    ```
    rommon 1 > confreg 0x2142
    rommon 2 > reset
    ```

5.  Убедитесь, что вы ввели **N** в вопрос начальной настройки диалогового окна. Вы будете находиться в пользовательском режиме EXEC. Перейдите в привилегированный режим EXEC.

6.  Скопируйте файл загрузочной конфигурации в текущую конфигурацию. Запрос маршрутизатора должен был измениться на Main#

7.  Внесите следующие изменения в текущую конфигурацию:

    1.  Измените запрос маршрутизатора на Branch.

    2.  Измените секретный пароль на **branch1**.

    3.  Измените пароли строки консоли vty на **branch2**.

    4.  Добавьте баннер «Password recovered».

    5.  Проверьте значение регистра конфигурации.

    6.  Измените регистр конфигурации на 0x2102 в режиме глобальной конфигурации.

        ```
        Branch(config)# config-register 0x2102
        ```

    7.  Сохранение текущей конфигурации в качестве начальной.

8.  Перезагрузите маршрутизатор и войдите в систему с новыми паролями.

9.  Изучите текущую конфигурацию маршрутизатора. Обратите внимание, что интерфейсы находятся в выключеном режиме. Повторно активируйте интерфейсы G0/0 и G0/2.

**Шаг 3. Ответьте на вопросы о процедуре восстановления пароля.**

Используя процедуру восстановления пароля, ответьте на приведенные ниже вопросы.

Вопросы:

Как определить текущий параметр регистра конфигурации?

**Введите ваш ответ здесь.**

Опишите процесс перехода в режим ROMMON.

**Введите ваш ответ здесь.**

Какие команды необходимы для входа в интерфейс ROMMON?

**Введите ваш ответ здесь.**

Какое сообщение должно появиться во время загрузки маршрутизатора?

**Введите ваш ответ здесь.**

Зачем загрузочную конфигурацию необходимо загрузить в текущую?

**Введите ваш ответ здесь.**

Почему важно вернуть исходное значение регистра конфигурации после восстановления пароля?

**Введите ваш ответ здесь.**

## Вопрос для повторения

Почему чрезвычайно важно обеспечить физическую защиту маршрутизатора от несанкционированного доступа?

**Введите ваш ответ здесь.**

[Скачать файл Packet Tracer для локального запуска](./assets/10.6.13-packet-tracer---research-and-execute-password-recovery-procedures---physical-mode_ru-RU.pka)