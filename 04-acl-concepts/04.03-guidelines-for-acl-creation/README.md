<!-- 4.3.1 -->
## Ограниченние количества ACL на один интерфейс

В предыдущем разделе вы узнали о том, как шаблонные маски используются в ACL. В этом разделе основное внимание будет уделено рекомендациям по созданию ACL. Существует ограничение на количество списков ACL, которые могут быть применены к интерфейсу роутера. Например, интерфейс с двойным стеком (например, IPv4 и IPv6) может иметь до четырех ACL, как показано на рисунке.

В частности, интерфейс роутера может иметь:

* один исходящий список ACL IPv4;
* один входящий список ACL IPv4;
* один входящий ACL IPv6;
* один исходящий ACL IPv6.

![](./assets/4.3.1-1.svg)
<!-- /courses/ensa-dl/ae8e8c82-34fd-11eb-ba19-f1886492e0e4/aeb43cf0-34fd-11eb-ba19-f1886492e0e4/assets/c60d4bb0-1c46-11ea-af56-e368b99e9723.svg -->

<!--
На рисунке показан один ACL, на каждый протокол, на одно направление, на одном интерфейсе. Существует роутер с именем R1 справа и переключение слева с кабелем между ними. Над строкой над устройством находится адрес IPv4 192.168.10.1, ниже — адрес IPv6 2001:db8:acad:1::1/64. Над этим две жирных стрелки, одна из которых указывает на роутер со словами IPv4 (Inbound), другая указывает в противоположном направлении со словами IPv4 (outbound). Под адресом IPv6 находятся еще две толстые стрелки, одна из которых указывает на роутер со словами IPv6 (inbound), а другая стрелка, указывающая в противоположную сторону со словами IPv6 (outbound).
-->

Предположим, R1 имеет два интерфейса двойного стека, которые требуют применения входящих и исходящих списков ACL IPv4 и IPv6. Как показано на рисунке, R1 может иметь до 8 списков ACL, настроенных и применяемых к интерфейсам. Каждый интерфейс будет иметь четыре ACL-списка: два списка для протокола IPv4 и два — для протокола IPv6. Для каждого протокола нужен один ACL-список для входящего трафика и один — для исходящего трафика.

**Примечание**. Списки контроля доступа не требуется конфигурировать на оба направления. Количество списков ACL и их направление, применяемое к интерфейсу, будут зависеть от политики безопасности организации.

![](./assets/4.3.1-2.svg)
<!-- /courses/ensa-dl/ae8e8c82-34fd-11eb-ba19-f1886492e0e4/aeb43cf0-34fd-11eb-ba19-f1886492e0e4/assets/c60d99d1-1c46-11ea-af56-e368b99e9723.svg -->

<!--
На рисунке показан один ACL, на каждый протокол, на одно направление, на двух интерфейсах. В центре находится роутер R1 и два коммутатора: один слева и один справа. Между ними имеется кабель. Над кабелем слева от роутера находится адрес IPv4 192.168.10.1, ниже — адрес IPv6 2001:db8:acad:1::1/64. Над кабелем справа от роутера находится IPv4 адрес 192.168.20.1, ниже — IPv6 адрес 2001:db8:acad:2::1/64. Над кабелями, на каждой стороне роутера, расположены две жирные стрелки, одна из которых указывает на него со словами IPv4 (Inbound), другая указывает в противоположном направлении со словами IPv4 (Outbound). Ниже кабеля, на каждой стороне роутера, расположены две жирные стрелки, одна из которых указывает на него со словами IPv6 (inbound), а другая стрелка, указывающая в противоположном направлении словами IPv6 (Outbound).
-->

<!-- 4.3.2 -->
## Рекомендации по созданию ACL-списков

Создание ACL-списков требует внимания к деталям и повышенной осторожности. Ошибки могут привести к серьезным последствиям и дополнительным затратам, связанным с простоями, поиском и устранением неполадок, а также некорректной работой сетевых служб. Перед настройкой ACL-списка необходимо создать базовый план реализации.

В таблице представлен список рекомендаций, составляющих базовую методику составления ACL-списка.

| **Рекомендации** | **Преимущество** |
| --- | --- |
| **Создавайте ACL-списки, исходя из корпоративной политики обеспечения информационной безопасности** | соблюдение рекомендации обеспечивает соответствие требованиям информационной безопасности компании |
| **Напишите, что вы хотите, чтобы ACL сделал** | поможет избежать непреднамеренного создания потенциальных проблем с безопасностью |
| **Используйте текстовый редактор для создания, редактирования и сохранения ACL-списков** | соблюдение рекомендации поможет создать библиотеку повторно используемых ACL-списков |
| **Документируйте списки ACL с помощью команды remark** | это поможет вам (и другим) понять цель ACE |
| **Проверьте работу ACL-списков в пробной сети перед внедрением в реальную действующую сеть** | соблюдение рекомендации поможет избежать дорогостоящих ошибок |

<!-- 4.3.3 -->
<!-- quiz -->

