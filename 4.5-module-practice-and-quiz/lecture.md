<!-- 4.5.1 -->
## Что я изучил в этом модуле?

### Назначение списков контроля доступа

Некоторые задачи, выполняемые маршрутизаторами, требуют использования списков ACL для идентификации трафика. ACL-список — это ряд команд IOS, определяющих, пересылает ли маршрутизатор пакеты или сбрасывает их, исходя из информации в заголовке пакета. Маршрутизатор не имеет списков ACL, настроенных по умолчанию. Однако если ACL-список используется на интерфейсе, маршрутизатор выполняет дополнительную задачу, оценивая все сетевые пакеты, проходящие через интерфейс, с целью определения разрешения пересылки пакета. Список контроля доступа (ACL) — это последовательный список разрешающих или запрещающих операторов, называемых записями списка контроля доступа (ACE). Маршрутизаторы Cisco поддерживают два типа ACL: стандартные ACL и расширенные ACL. Входящий ACL фильтрует пакеты, приходящие на определенный интерфейс, до того, как они будут направлены на исходящий интерфейс. Если согласно списку контроля доступа (ACL) прохождение пакета следует разрешить, то этот пакет маршрутизируется. Исходящий ACL фильтрует пакеты после их маршрутизации — вне зависимости от входящего интерфейса. Когда ACL применяется к интерфейсу, он выполняет определенную рабочую процедуру:

- Если на маршрутизаторе настроен стандартный список контроля доступа (ACL) IPv4, то, получив пакет, такой маршрутизатор извлекает из заголовка пакета IPv4-адрес источника.
- Далее маршрутизатор последовательно сравнивает адрес с адресом в каждой из записей в списке контроля доступа (ACL), начиная с первой записи.
- Когда сопоставление установлено, маршрутизатор выполняет инструкцию, разрешающую или запрещающую пакет, а остальные ACE в ACL, если таковые имеются, не анализируются.
- Если исходный IPv4-адрес не совпадает ни с одним ACE в ACL, пакет отбрасывается, поскольку существует неявный запрет ACE, автоматически применяемый ко всем ACL.

### Шаблонные маски

IPv4 ACE использует 32-разрядную шаблонную маску, чтобы определить, какие биты адреса необходимо проверить на соответствие. Шаблонные маски также используются протоколом маршрутизации OSPF (Open Shortest Path First). Шаблонная маска аналогична маске подсети в том, что она использует процесс логического И для определения того, какие биты IPv4-адреса соответствуют. Однако они отличаются тем, как они соответствуют двоичным 1 и 0. Wildcard mask bit 0 соответствует соответствующему значению бита в адресе. Wildcard mask bit 1 игнорирует соответствующее значение бита в адресе. Шаблонная маска используется для фильтрации трафика для одного узла, одной подсети и диапазона IPv4 адресов. Другой способ расчета шаблонной маски заключается в вычитании маски подсети из 255.255.255.255. Работу с десятичными представлениями битов шаблонной маски можно упростить с помощью ключевых слов Cisco IOS host и any определить наиболее распространенные виды применения шаблонной маски. Ключевые слова уменьшают размер ACL и облегчают чтение ACE.

### Рекомендации по созданию списков контроля доступа

Существует ограничение на количество списков ACL, которые могут быть применены к интерфейсу маршрутизатора. Например, интерфейс маршрутизатора с двумя стеками (т.е. IPv4 и IPv6) может иметь до четырех ACL. В частности, интерфейс маршрутизатора может иметь один исходящий ACL IPv4, один входящий ACL IPv4, один входящий ACL IPv6 и один исходящий ACL IPv6. Примечание. Списки контроля доступа не требуется конфигурировать на оба направления. Количество списков ACL и их направление, применяемое к интерфейсу, будут зависеть от политики безопасности организации. Базовое планирование требуется перед настройкой списка управления доступом и включает следующие рекомендации:

- Создавайте ACL-списки, исходя из корпоративной политики обеспечения информационной безопасности.
- Напишите, что вы хотите, чтобы ACL сделал.
- Используйте текстовый редактор для создания, редактирования и сохранения ACL-списков.
- Документируйте ACL, используя команду remark.
- Проверьте работу ACL-списков в пробной сети перед внедрением в реальную действующую сеть.

### Типы списков контроля доступа для IPv4

Существует два типа списков контроля доступа Cisco для IPv4: стандартные и расширенные списки контроля доступа. Стандартные списки ACL— разрешают или запрещают пакеты, основанные только на исходном IPv4-адресе. Расширенные списки ACL— разрешают или запрещают пакеты, основанные на адресе IPv4 источника и адресе назначения IPv4, типе протокола, TCP-или UDP-портах источника и назначения и т. д. ACL от 1 до 99 или от 1300 до 1999 являются стандартными ACL. ACL с номером 100-199 или от 2000 до 2699 являются расширенными ACL. Именованные списки ACL являются предпочтительным методом для использования при настройке списков ACL. В частности, стандартные и расширенные списки ACL могут быть названы для предоставления сведений о назначении ACL.

Ниже приведены правила, которым необходимо следовать для именованных списков ACL.

- Имя присваивается для определения списка контроля доступа.
- Имена могут содержать буквенно-цифровые символы.
- В именах не допускается наличие пробелов или знаков препинания.
- Рекомендуется вводить имя, используя ЗАГЛАВНЫЕ БУКВЫ.
- Записи списка контроля доступа можно добавлять или удалять.

Каждый список контроля доступа (ACL) должен быть размещен там, где он может демонстрировать максимальную эффективность. Расширенные списки контроля доступа следует располагать как можно ближе к источнику фильтруемого трафика. Таким образом, нежелательный трафик отклоняется близко к сети-источнику, не пересекая инфраструктуру сети. Стандартные списки контроля доступа следует размещать как можно ближе к месту назначения. Если стандартный список контроля доступа размещен на источнике трафика, то трафик разрешается или отклоняется на основе данного адреса источника, независимо от места назначения трафика. Размещение ACL может зависеть от степени организационного контроля, пропускной способности сетей и простоты настройки.

<!-- Тут должен быть квиз 4.5.2 -->